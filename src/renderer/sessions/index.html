<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self'; object-src 'none'; base-uri 'self'; form-action 'none';">
  <title>ThreadKeeper ‚Äî „Çª„ÉÉ„Ç∑„Éß„É≥‰∏ÄË¶ß</title>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Yu Gothic UI', 'Segoe UI', system-ui, sans-serif;
      background: #0d0d16;
      color: #f2f2ff;
      height: 100vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    /* ‚îÄ‚îÄ Toolbar ‚îÄ‚îÄ */
    .toolbar {
      background: #111120;
      border-bottom: 1px solid #1a1a2e;
      padding: 0 22px;
      height: 54px;
      display: flex;
      align-items: center;
      gap: 10px;
      flex-shrink: 0;
    }
    .toolbar-icon {
      width: 30px; height: 30px;
      background: linear-gradient(135deg, #3a58ee, #607aff);
      border-radius: 8px;
      display: flex; align-items: center; justify-content: center;
      font-size: 15px; flex-shrink: 0;
    }
    .toolbar h1 { font-size: 15px; font-weight: 600; color: #d0d8ff; }
    .toolbar-sep { width: 1px; height: 18px; background: #1e1e32; }
    .toolbar-hint { font-size: 11px; color: #303048; }
    #count {
      margin-left: auto;
      font-size: 12px; color: #383858;
      background: #111120; border: 1px solid #1c1c30;
      border-radius: 12px; padding: 3px 12px;
    }
    .btn-settings {
      background: transparent; border: 1px solid #1c1c30;
      border-radius: 7px; color: #404468; cursor: pointer;
      font-size: 15px; padding: 4px 10px; line-height: 1;
      transition: all 0.15s; margin-left: 8px;
    }
    .btn-settings:hover { background: #181828; color: #8090c0; border-color: #2a2a44; }

    /* ‚îÄ‚îÄ List ‚îÄ‚îÄ */
    .list-container {
      flex: 1;
      overflow-y: auto;
      padding: 16px 20px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    /* ‚îÄ‚îÄ Session Card ‚îÄ‚îÄ */
    .session-card {
      background: #13132a;
      border: 1px solid #1e1e3a;
      border-radius: 12px;
      padding: 15px 18px;
      transition: border-color 0.15s, background 0.15s;
      cursor: default;
    }
    .session-card:hover {
      border-color: #3a5aff;
      background: #161630;
    }

    /* Card header: time + date badge */
    .card-header {
      display: flex; align-items: center;
      gap: 8px; margin-bottom: 9px;
    }
    .time-text {
      font-size: 20px; font-weight: 700;
      color: #f0f0fc; letter-spacing: 0.02em; line-height: 1;
    }
    .day-badge {
      font-size: 11px; color: #7888b8;
      background: #1a1a34; border: 1px solid #242448;
      padding: 2px 10px; border-radius: 20px;
    }

    /* AI Summary */
    .session-summary {
      font-size: 14px; color: #c0d0ff;
      line-height: 1.75; margin-bottom: 9px;
    }

    /* User note */
    .session-note {
      font-size: 12.5px; color: #5a6888;
      font-style: italic; margin-bottom: 8px; padding-left: 2px;
    }
    .session-note::before { content: '\201C'; }
    .session-note::after { content: '\201D'; }

    /* Meta tags */
    .session-meta {
      display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 11px;
    }
    .meta-tag {
      font-size: 11px;
      background: #0c0c1e; border: 1px solid #1a1a36;
      color: #5868a0; padding: 3px 10px; border-radius: 20px;
    }

    /* Detail section ‚Äì shown on hover */
    .detail-section {
      display: none;
      background: #09090f;
      border: 1px solid #131322;
      border-radius: 8px;
      padding: 9px 14px;
      margin-bottom: 11px;
      font-size: 12px;
      color: #404068; line-height: 1.7;
    }
    .session-card:hover .detail-section { display: block; }
    .detail-section .dl {
      font-size: 10px; font-weight: 700;
      text-transform: uppercase; letter-spacing: 0.08em;
      color: #242446; display: block; margin-top: 6px;
    }
    .detail-section .dl:first-child { margin-top: 0; }
    .detail-section ul { list-style: none; padding-left: 8px; }
    .detail-section li {
      color: #424870;
      white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    }
    /* override JS inline style */
    .detail-section span[style*="color"] { color: #4a5880 !important; }

    /* Restore button */
    .restore-btn {
      display: inline-flex; align-items: center; gap: 6px;
      padding: 7px 16px;
      background: #181848; color: #7080c0;
      border: 1px solid #222260; border-radius: 7px;
      cursor: pointer; font-size: 12px; font-family: inherit;
      font-weight: 500; transition: all 0.15s;
    }
    .restore-btn:hover:not(:disabled) {
      background: #202268; color: #9aa8e8; border-color: #2c30a0;
    }
    .restore-btn:disabled { opacity: 0.4; cursor: default; }

    /* Restore result */
    .restore-result {
      margin-top: 9px; padding: 10px 14px;
      background: #081a10; border: 1px solid #122a1c;
      border-radius: 8px; font-size: 12px;
      color: #44d888; line-height: 1.8;
    }

    /* Empty */
    .empty {
      flex: 1; display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      text-align: center; padding: 60px 20px; color: #242444;
    }
    .empty .icon { font-size: 52px; margin-bottom: 18px; opacity: 0.35; }
    .empty p { font-size: 15px; color: #2c2c54; margin-bottom: 8px; }
    .empty small { font-size: 12px; color: #1e1e3c; }

    /* Scrollbar */
    ::-webkit-scrollbar { width: 5px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #1a1a30; border-radius: 3px; }
  </style>
</head>
<body>
  <div class="toolbar">
    <div class="toolbar-icon">üìã</div>
    <h1 data-i18n="nav_sessions">„Çª„ÉÉ„Ç∑„Éß„É≥‰∏ÄË¶ß</h1>
    <div class="toolbar-sep"></div>
    <span class="toolbar-hint" data-i18n="sessions_hover_hint">„Éõ„Éê„Éº„ÅßË©≥Á¥∞Ë°®Á§∫</span>
    <span id="count" data-i18n="loading">Ë™≠„ÅøËæº„Åø‰∏≠‚Ä¶</span>
    <button class="btn-settings" id="btn-settings" title="Ë®≠ÂÆö" data-i18n-title="nav_settings">‚öôÔ∏è</button>
  </div>

  <div class="list-container" id="list">
    <div class="empty">
      <div class="icon">üìÅ</div>
      <p data-i18n="loading">Ë™≠„ÅøËæº„Åø‰∏≠‚Ä¶</p>
    </div>
  </div>

  <script src="sessions.js"></script>
</body>
</html>
